{"version":3,"sources":["webpack:///C:/Users/64165/Desktop/桶装水/tongzhuangshui_h5/main.js","webpack:///C:/Users/64165/Desktop/桶装水/tongzhuangshui_h5/pages/order/confirmation.vue?5c70","webpack:///C:/Users/64165/Desktop/桶装水/tongzhuangshui_h5/pages/order/confirmation.vue?b7c6","webpack:///C:/Users/64165/Desktop/桶装水/tongzhuangshui_h5/pages/order/confirmation.vue?14f1","webpack:///C:/Users/64165/Desktop/桶装水/tongzhuangshui_h5/pages/order/confirmation.vue?74c3","webpack:///C:/Users/64165/Desktop/桶装水/tongzhuangshui_h5/pages/order/confirmation.vue","webpack:///C:/Users/64165/Desktop/桶装水/tongzhuangshui_h5/pages/order/confirmation.vue?7ec7","webpack:///C:/Users/64165/Desktop/桶装水/tongzhuangshui_h5/pages/order/confirmation.vue?919e"],"names":["Page","App","components","uniPopup","data","addrMain","contactName","buylist","goodsPrice","sumPrice","freight","note","int","deduction","coupon","onShow","uni","getStorage","key","success","ret","ticket","len","length","i","stock","price","onHide","clearOrder","onBackPress","computed","sumPriceFixed","toFixed","goodsPriceFixed","freightFixed","methods","changeAddr","navigateTo","url","toPay","contactPhone","goods","good","productId","productName","quantity","id","name","push","request","$tempUrl","method","orderDetailBeans","remark","shopId","getStorageSync","userAddress","address","userName","userPhone","userWechatOpenid","res","showLoading","title","setTimeout","hideLoading","payment","showModal","content","showCancel","orderId","confirm","openId","code","reLaunch","showToast","icon","cancel","toCoupon"],"mappings":"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;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,eAAe,2CAA2C,EAAE;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,qBAAqB;AACvC,oBAAoB,sBAAsB;AAC1C,oBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,gDAAgD;AACpE,uBAAuB,kBAAkB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,gBAAgB,wBAAwB;AACxC,kBAAkB,qBAAqB;AACvC,oBAAoB,yBAAyB;AAC7C,oBAAoB,yBAAyB;AAC7C;AACA;AACA;AACA;AACA,sBAAsB,qBAAqB;AAC3C,wBAAwB,yBAAyB;AACjD,wBAAwB,yBAAyB;AACjD;AACA;AACA;AACA;AACA;AACA,gBAAgB,sBAAsB;AACtC,gBAAgB,wBAAwB;AACxC,kBAAkB,4BAA4B;AAC9C,oBAAoB,qBAAqB;AACzC;AACA,sBAAsB,uBAAuB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,wBAAwB;AAC5C,iBAAiB;AACjB,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C,mBAAmB,SAAS,iDAAiD,EAAE;AAC/E;AACA;AACA;AACA","file":"pages/order/confirmation.js","sourcesContent":["import 'uni-pages';\nimport pageFactory from 'mpvue-page-factory'\n    import App from './pages/order/confirmation.vue'\n    Page(pageFactory(App))","import { render, staticRenderFns } from \"./confirmation.vue?vue&type=template&id=185a4263&\"\nimport script from \"./confirmation.vue?vue&type=script&lang=js&\"\nexport * from \"./confirmation.vue?vue&type=script&lang=js&\"\nimport style0 from \"./confirmation.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('185a4263', component.options)\n    } else {\n      api.reload('185a4263', component.options)\n    }\n    module.hot.accept(\"./confirmation.vue?vue&type=template&id=185a4263&\", function () {\n      api.rerender('185a4263', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Users/64165/Desktop/桶装水/tongzhuangshui_h5/pages/order/confirmation.vue\"\nexport default component.exports","import mod from \"-!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--18-0!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./confirmation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--18-0!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./confirmation.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./confirmation.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./confirmation.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./confirmation.vue?vue&type=template&id=185a4263&\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport uniPopup from '@/components/uni-popup/uni-popup.vue';\nexport default {\n\tcomponents: {\n\t\tuniPopup\n\t},\n\tdata() {\n\t\treturn {\n\t\t\taddrMain: { contactName: '点击选择地址' },\n\t\t\tbuylist: [], //订单列表\n\t\t\tgoodsPrice: 0.0, //商品合计价格\n\t\t\tsumPrice: 0.0, //用户付款价格\n\t\t\tfreight: 0.0, //运费\n\t\t\tnote: '', //备注\n\t\t\tint: 1200, //抵扣积分\n\t\t\tdeduction: 0, //抵扣价格\n\t\t\tcoupon: {}\n\t\t};\n\t},\n\tonShow() {\n\t\t//页面显示时，加载我选择的优惠券\n\t\tuni.getStorage({\n\t\t\tkey: 'confirmCoupon',\n\t\t\tsuccess: ret => {\n\t\t\t\t// console.log(ret.data);\n\t\t\t\tthis.coupon = ret.data;\n\t\t\t\tthis.deduction = ret.data.ticket;\n\t\t\t\t// console.log(this.deduction);\n\t\t\t}\n\t\t});\n\t\t//页面显示时，加载我选择的地址\n\t\tuni.getStorage({\n\t\t\tkey: 'confirmAddr',\n\t\t\tsuccess: ret => {\n\t\t\t\tthis.addrMain = ret.data;\n\t\t\t}\n\t\t});\n\t\t//页面显示时，加载订单信息\n\t\tuni.getStorage({\n\t\t\tkey: 'buylist',\n\t\t\tsuccess: ret => {\n\t\t\t\tthis.buylist = ret.data;\n\t\t\t\tthis.goodsPrice = 0;\n\t\t\t\t//合计\n\t\t\t\tlet len = this.buylist.length;\n\t\t\t\tfor (let i = 0; i < len; i++) {\n\t\t\t\t\tthis.goodsPrice = this.goodsPrice + this.buylist[i].stock * this.buylist[i].price;\n\t\t\t\t}\n\t\t\t\t// this.deduction = this.int / 100;\n\t\t\t\tthis.sumPrice = this.goodsPrice - this.deduction + this.freight;\n\t\t\t\t//强制保留两位小数，竟然不支持过滤器~~~~~~~ (O..O)\n\t\t\t\t// this.sumPrice = this.sumPrice.toFixed(2);\n\t\t\t\t// this.goodsPrice = this.goodsPrice.toFixed(2);\n\t\t\t\t// this.freight = this.freight.toFixed(2);\n\t\t\t\t// this.deduction = this.deduction.toFixed(2);\n\t\t\t}\n\t\t});\n\t},\n\tonHide() {\n\t\t//页面隐藏清除订单信息\n\t\tthis.clearOrder();\n\t},\n\tonBackPress() {\n\t\t//页面后退时候，清除订单信息\n\t\tthis.clearOrder();\n\t},\n\tcomputed: {\n\t\tsumPriceFixed: function() {\n\t\t\treturn this.sumPrice.toFixed(2);\n\t\t},\n\t\tgoodsPriceFixed: function() {\n\t\t\treturn this.goodsPrice.toFixed(2);\n\t\t},\n\t\tfreightFixed: function() {\n\t\t\treturn this.freight.toFixed(2);\n\t\t}\n\t\t// ,deductionFixed: function() {\n\t\t// \treturn this.deduction.toFixed(2);\n\t\t// }\n\t},\n\tmethods: {\n\t\tchangeAddr() {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '../address/address'\n\t\t\t});\n\t\t},\n\t\tclearOrder() {\n\t\t\t// uni.removeStorage({\n\t\t\t// \tkey: 'buylist',\n\t\t\t// \tsuccess: function(res) {\n\t\t\t// \t\tthis.buylist = [];\n\t\t\t// \t\tconsole.log('remove buylist success');\n\t\t\t// \t}\n\t\t\t// });\n\t\t},\n\t\ttoPay() {\n\t\t\tif (this.addrMain.contactPhone) {\n\t\t\t\t//商品列表\n\t\t\t\tlet goods = [];\n\t\t\t\tlet len = this.buylist.length;\n\t\t\t\tfor (let i = 0; i < len; i++) {\n\t\t\t\t\tlet good = {\n\t\t\t\t\t\tprice: 0,\n\t\t\t\t\t\tproductId: 1,\n\t\t\t\t\t\tproductName: 'string',\n\t\t\t\t\t\tquantity: 1\n\t\t\t\t\t};\n\t\t\t\t\tgood.price = this.buylist[i].price;\n\t\t\t\t\tgood.productId = this.buylist[i].id;\n\t\t\t\t\tgood.productName = this.buylist[i].name;\n\t\t\t\t\tgood.quantity = this.buylist[i].stock;\n\t\t\t\t\tgoods.push(good);\n\t\t\t\t}\n\t\t\t\t// console.log(this.note);\n\t\t\t\tuni.request({\n\t\t\t\t\turl: this.$tempUrl + 'buyer/order/create',\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\tdata: {\n\t\t\t\t\t\torderDetailBeans: goods,\n\t\t\t\t\t\tremark: this.note,\n\t\t\t\t\t\tshopId: uni.getStorageSync('shopId'),\n\t\t\t\t\t\tuserAddress: this.addrMain.address,\n\t\t\t\t\t\tuserName: this.addrMain.contactName,\n\t\t\t\t\t\tuserPhone: this.addrMain.contactPhone,\n\t\t\t\t\t\tuserWechatOpenid: uni.getStorageSync('openId')\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: res => {\n\t\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\t\ttitle: '提交中...'\n\t\t\t\t\t\t});\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\tthis.payment(res.data.data.id);\n\t\t\t\t\t\t}, 500);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: '提交失败',\n\t\t\t\t\tcontent: '请选择收货地址',\n\t\t\t\t\tshowCancel: false\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tpayment(orderId) {\n\t\t\tuni.showModal({\n\t\t\t\ttitle: '支付',\n\t\t\t\tcontent: '确认支付￥' + this.sumPrice,\n\t\t\t\tsuccess: res => {\n\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\tuni.request({\n\t\t\t\t\t\t\turl: this.$tempUrl + 'buyer/order/paid',\n\t\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\t\tdata: { openId: uni.getStorageSync('openId'), orderId: orderId },\n\t\t\t\t\t\t\tsuccess: res => {\n\t\t\t\t\t\t\t\tif (res.data.code === 0) {\n\t\t\t\t\t\t\t\t\tuni.reLaunch({\n\t\t\t\t\t\t\t\t\t\turl: '../tabBar/user',\n\t\t\t\t\t\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\t\t\t\t\t\tuni.showToast({ title: '支付成功', icon: 'success' });\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t// uni.showToast({ title: '支付成功', icon: 'success' });\n\t\t\t\t\t\t\t\t\t// //刷新当前（待付款）列表\n\t\t\t\t\t\t\t\t\t// this.refreshList(1);\n\t\t\t\t\t\t\t\t\t// //刷新已发货列表\n\t\t\t\t\t\t\t\t\t// this.refreshListOther(2);\n\t\t\t\t\t\t\t\t\t// //刷新全部列表\n\t\t\t\t\t\t\t\t\t// this.refreshListOther(0);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\t\t\ttitle: '提示',\n\t\t\t\t\t\t\t\t\t\tcontent: '订单异常，支付失败',\n\t\t\t\t\t\t\t\t\t\tshowCancel: false\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t// //刷新当前（待付款）列表\n\t\t\t\t\t\t\t\t\t// this.refreshList(1);\n\t\t\t\t\t\t\t\t\t// //刷新全部列表\n\t\t\t\t\t\t\t\t\t// this.refreshListOther(0);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if (res.cancel) {\n\t\t\t\t\t\tuni.reLaunch({\n\t\t\t\t\t\t\turl: '../tabBar/user',\n\t\t\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\t\t\tuni.showToast({ title: '支付已取消，请尽快完成付款', icon: 'none' });\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\t// uni.showToast({ title: '支付已取消，请尽快完成付款', icon: 'none' });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\ttoCoupon(goodsPrice) {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '../user/coupon/coupon?goodsPrice=' + goodsPrice\n\t\t\t});\n\t\t}\n\t}\n};\n","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"view\", [\n    _c(\n      \"view\",\n      {\n        staticClass: \"addr\",\n        attrs: { eventid: \"abfeaab4-0\" },\n        on: { tap: _vm.changeAddr }\n      },\n      [\n        _vm._m(0),\n        _c(\"view\", { staticClass: \"right\" }, [\n          _c(\"view\", { staticClass: \"tel-name\" }, [\n            _c(\"view\", { staticClass: \"name\" }, [\n              _vm._v(_vm._s(_vm.addrMain.contactName))\n            ]),\n            _c(\"view\", { staticClass: \"tel\" }, [\n              _vm._v(_vm._s(_vm.addrMain.contactPhone))\n            ])\n          ]),\n          _vm.addrMain.area\n            ? _c(\"view\", { staticClass: \"addres\" }, [\n                _vm._v(\n                  _vm._s(_vm.addrMain.area.label) +\n                    \"-\" +\n                    _vm._s(_vm.addrMain.address)\n                )\n              ])\n            : _vm._e(),\n          _vm.addrMain.areaName\n            ? _c(\"view\", { staticClass: \"addres\" }, [\n                _vm._v(\n                  _vm._s(_vm.addrMain.areaName) +\n                    \"-\" +\n                    _vm._s(_vm.addrMain.address)\n                )\n              ])\n            : _vm._e()\n        ])\n      ]\n    ),\n    _c(\n      \"view\",\n      { staticClass: \"buy-list\" },\n      _vm._l(_vm.buylist, function(row, index) {\n        return _c(\"view\", { key: index, staticClass: \"row\" }, [\n          _c(\"view\", { staticClass: \"goods-info\" }, [\n            _c(\"view\", { staticClass: \"img\" }, [\n              _c(\"image\", { attrs: { src: row.cover } })\n            ]),\n            _c(\"view\", { staticClass: \"info\" }, [\n              _c(\"view\", { staticClass: \"title\" }, [_vm._v(_vm._s(row.name))]),\n              _c(\"view\", { staticClass: \"spec\" }, [\n                _vm._v(_vm._s(row.promotion) + \" 数量:\" + _vm._s(row.stock))\n              ]),\n              _c(\"view\", { staticClass: \"price-number\" }, [\n                _c(\"view\", { staticClass: \"price\" }, [\n                  _vm._v(\"￥\" + _vm._s(row.price * row.stock))\n                ]),\n                _c(\"view\", { staticClass: \"number\" })\n              ])\n            ])\n          ])\n        ])\n      })\n    ),\n    _c(\"view\", { staticClass: \"order\" }, [\n      _c(\"view\", { staticClass: \"row\" }, [\n        _c(\"view\", { staticClass: \"left\" }, [_vm._v(\"优惠券 :\")]),\n        _c(\n          \"view\",\n          {\n            staticClass: \"right\",\n            attrs: { eventid: \"abfeaab4-1\" },\n            on: {\n              tap: function($event) {\n                _vm.toCoupon(_vm.goodsPrice)\n              }\n            }\n          },\n          [\n            _c(\n              \"label\",\n              {\n                directives: [\n                  {\n                    name: \"show\",\n                    rawName: \"v-show\",\n                    value: !_vm.coupon.ticket,\n                    expression: \"!coupon.ticket\"\n                  }\n                ]\n              },\n              [_vm._v(\"点击选择\")]\n            ),\n            _c(\n              \"label\",\n              {\n                directives: [\n                  {\n                    name: \"show\",\n                    rawName: \"v-show\",\n                    value: _vm.coupon.ticket,\n                    expression: \"coupon.ticket\"\n                  }\n                ]\n              },\n              [\n                _vm._v(\n                  \"已选择\" +\n                    _vm._s(_vm.coupon.title) +\n                    \"，优惠￥\" +\n                    _vm._s(_vm.coupon.ticket)\n                )\n              ]\n            ),\n            _c(\n              \"label\",\n              { staticStyle: { \"margin-left\": \"10rpx\", color: \"#2F4056\" } },\n              [_vm._v(\">\")]\n            ),\n            _vm._v(\">\")\n          ],\n          1\n        )\n      ]),\n      _c(\"view\", { staticClass: \"row\" }, [\n        _c(\"view\", { staticClass: \"left\" }, [_vm._v(\"备注 :\")]),\n        _c(\"view\", { staticClass: \"right\" }, [\n          _c(\"input\", {\n            directives: [\n              {\n                name: \"model\",\n                rawName: \"v-model\",\n                value: _vm.note,\n                expression: \"note\"\n              }\n            ],\n            attrs: { placeholder: \"选填,备注内容\", eventid: \"abfeaab4-2\" },\n            domProps: { value: _vm.note },\n            on: {\n              input: function($event) {\n                if ($event.target.composing) {\n                  return\n                }\n                _vm.note = $event.target.value\n              }\n            }\n          })\n        ])\n      ])\n    ]),\n    _c(\"view\", { staticClass: \"detail\" }, [\n      _c(\"view\", { staticClass: \"row\" }, [\n        _c(\"view\", { staticClass: \"nominal\" }, [_vm._v(\"商品金额\")]),\n        _c(\"view\", { staticClass: \"content\" }, [\n          _vm._v(\"￥\" + _vm._s(_vm.goodsPrice))\n        ])\n      ]),\n      _vm.coupon.ticket\n        ? _c(\"view\", { staticClass: \"row\" }, [\n            _c(\"view\", { staticClass: \"nominal\" }, [_vm._v(\"优惠券\")]),\n            _c(\"view\", { staticClass: \"content\" }, [\n              _vm._v(\"-￥\" + _vm._s(_vm.deduction))\n            ])\n          ])\n        : _vm._e()\n    ]),\n    _c(\"view\", { staticClass: \"blck\" }),\n    _c(\"view\", { staticClass: \"footer\" }, [\n      _c(\"view\", { staticClass: \"settlement\" }, [\n        _c(\"view\", { staticClass: \"sum\" }, [\n          _vm._v(\"合计:\"),\n          _c(\"view\", { staticClass: \"money\" }, [\n            _vm._v(\"￥\" + _vm._s(_vm.sumPriceFixed))\n          ])\n        ]),\n        _c(\n          \"view\",\n          {\n            staticClass: \"btn\",\n            attrs: { eventid: \"abfeaab4-3\" },\n            on: { tap: _vm.toPay }\n          },\n          [_vm._v(\"提交订单\")]\n        )\n      ])\n    ])\n  ])\n}\nvar staticRenderFns = [\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"view\", { staticClass: \"icon\" }, [\n      _c(\"image\", { attrs: { src: \"../../static/img/addricon.png\", mode: \"\" } })\n    ])\n  }\n]\nrender._withStripped = true\n\nexport { render, staticRenderFns }"],"sourceRoot":""}