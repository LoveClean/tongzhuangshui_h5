(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/coupon/coupon"],{6098:function(t,s,i){"use strict";var e=i("ef8c"),a=i.n(e);a.a},"65d1":function(t,s,i){"use strict";i("4436");var e=c(i("b0ce")),a=c(i("7a61"));function c(t){return t&&t.__esModule?t:{default:t}}Page((0,e.default)(a.default))},"7a61":function(t,s,i){"use strict";i.r(s);var e=i("cd25"),a=i("8088");for(var c in a)"default"!==c&&function(t){i.d(s,t,function(){return a[t]})}(c);i("6098");var n=i("2877"),o=Object(n["a"])(a["default"],e["a"],e["b"],!1,null,null,null);s["default"]=o.exports},8088:function(t,s,i){"use strict";i.r(s);var e=i("f26a"),a=i.n(e);for(var c in e)"default"!==c&&function(t){i.d(s,t,function(){return e[t]})}(c);s["default"]=a.a},cd25:function(t,s,i){"use strict";var e=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("view",[i("view",{staticClass:"tabr",style:{top:t.headerTop}},[i("view",{class:{on:"valid"==t.typeClass},attrs:{eventid:"74e2203b-0"},on:{tap:function(s){t.switchType("valid")}}},[t._v("未使用("+t._s(t.couponValidList.length)+")")]),i("view",{class:{on:"completed"==t.typeClass},attrs:{eventid:"74e2203b-1"},on:{tap:function(s){t.switchType("completed")}}},[t._v("已使用")]),i("view",{class:{on:"invalid"==t.typeClass},attrs:{eventid:"74e2203b-2"},on:{tap:function(s){t.switchType("invalid")}}},[t._v("已失效")]),i("view",{staticClass:"border",class:t.typeClass})]),i("view",{staticClass:"place"}),i("view",{staticClass:"list"},[i("view",{staticClass:"sub-list valid",class:t.subState},[0==t.couponValidList.length?i("view",{staticClass:"tis"},[t._v("没有数据~")]):t._e(),t._l(t.couponValidList,function(s,e){return i("view",{key:e,staticClass:"row"},[i("view",{staticClass:"carrier"},[i("view",{staticClass:"left"},[i("view",{staticClass:"title"},[t._v(t._s(s.couponsName))]),i("view",{staticClass:"term"},[t._v(t._s(s.effectiveDate)+" ~ "+t._s(s.expiryDate))]),i("view",{staticClass:"gap-top"}),i("view",{staticClass:"gap-bottom"})]),i("view",{staticClass:"right",class:4===s.couponsScope?"":"onlyShop",attrs:{eventid:"74e2203b-3-"+e},on:{tap:function(s){t.toCart()}}},[i("view",{staticClass:"ticket"},[i("view",{staticClass:"num"},[t._v(t._s(s.couponsAmount))]),i("view",{staticClass:"unit"},[t._v("元")])]),0!==s.minimumAmount?i("view",{staticClass:"criteria"},[t._v("满"+t._s(s.minimumAmount)+"使用")]):t._e(),0===s.minimumAmount?i("view",{staticClass:"criteria"},[t._v("无门槛")]):t._e(),i("view",{staticClass:"use",class:4===s.couponsScope?"":"onlyShop"},[t._v("去使用")])])])])})],2),i("view",{staticClass:"sub-list completed",class:t.subState},[0==t.completedList.length?i("view",{staticClass:"tis"},[t._v("没有数据~")]):t._e(),t._l(t.completedList,function(s,e){return i("view",{key:e,staticClass:"row"},[i("view",{staticClass:"carrier"},[i("view",{staticClass:"left"},[i("view",{staticClass:"title"},[t._v(t._s(s.couponsName))]),i("view",{staticClass:"term"},[t._v(t._s(s.effectiveDate)+" ~ "+t._s(s.expiryDate))]),i("view",{staticClass:"gap-top"}),i("view",{staticClass:"gap-bottom"})]),i("view",{staticClass:"right completed"},[i("view",{staticClass:"ticket"},[i("view",{staticClass:"num"},[t._v(t._s(s.couponsAmount))]),i("view",{staticClass:"unit"},[t._v("元")])]),0!==s.minimumAmount?i("view",{staticClass:"criteria"},[t._v("满"+t._s(s.minimumAmount)+"使用")]):t._e(),0===s.minimumAmount?i("view",{staticClass:"criteria"},[t._v("无门槛")]):t._e(),i("view",{staticClass:"use2"},[t._v("已使用")])])])])})],2),i("view",{staticClass:"sub-list invalid",class:t.subState},[0==t.couponinvalidList.length?i("view",{staticClass:"tis"},[t._v("没有数据~")]):t._e(),t._l(t.couponinvalidList,function(s,e){return i("view",{key:e,staticClass:"row"},[i("view",{staticClass:"carrier"},[i("view",{staticClass:"left"},[i("view",{staticClass:"title"},[t._v(t._s(s.couponsName))]),i("view",{staticClass:"term"},[t._v(t._s(s.effectiveDate)+" ~ "+t._s(s.expiryDate))]),i("view",{staticClass:"icon shixiao"}),i("view",{staticClass:"gap-top"}),i("view",{staticClass:"gap-bottom"})]),i("view",{staticClass:"right invalid"},[i("view",{staticClass:"ticket"},[i("view",{staticClass:"num"},[t._v(t._s(s.couponsAmount))]),i("view",{staticClass:"unit"},[t._v("元")])]),0!==s.minimumAmount?i("view",{staticClass:"criteria"},[t._v("满"+t._s(s.minimumAmount)+"使用")]):t._e(),0===s.minimumAmount?i("view",{staticClass:"criteria"},[t._v("无门槛")]):t._e(),i("view",{staticClass:"use2"},[t._v("已过期")])])])])})],2)])])},a=[];i.d(s,"a",function(){return e}),i.d(s,"b",function(){return a})},ef8c:function(t,s,i){},f26a:function(t,s,i){"use strict";(function(t){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var i={data:function(){return{couponValidList:[],completedList:[],couponinvalidList:[],headerTop:0,typeClass:"valid",subState:"showvalid"}},onPageScroll:function(t){},onPullDownRefresh:function(){setTimeout(function(){t.stopPullDownRefresh()},1e3)},onLoad:function(){var s=this;t.request({url:this.$tempUrl+"buyer/coupons/list",method:"GET",data:{openId:t.getStorageSync("openId")},success:function(t){console.log(t.data.data);var i=t.data.data;s.couponValidList=i.unused,s.completedList=i.used,s.couponinvalidList=i.disabled}}),console.log(this.subState)},methods:{toCart:function(){t.switchTab({url:"../../tabBar/cart"})},switchType:function(s){this.typeClass!=s&&(t.pageScrollTo({scrollTop:0,duration:0}),this.typeClass=s,this.subState=""==this.typeClass?"":"show"+s)}}};s.default=i}).call(this,i("543d")["default"])}},[["65d1","common/runtime","common/vendor"]]]);