(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/tabBar/seller"],{"0b9e":function(e,t,s){"use strict";var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("view",[s("view",{directives:[{name:"show",rawName:"v-show",value:e.validApply,expression:"validApply"}]},[s("view",{staticClass:"place"}),s("view",{directives:[{name:"show",rawName:"v-show",value:e.goodsList.length>0,expression:"goodsList.length > 0"}],staticClass:"goods-list"},[s("view",{staticClass:"product-list"},e._l(e.goodsList,function(t,o){return s("view",{key:t.id,class:2===t.orderStatus?"product watermark-image":"product",attrs:{eventid:"3525b720-1-"+o},on:{tap:function(s){e.changeOrderStatus(t)}}},[s("view",{staticClass:"info"},[s("view",{staticClass:"slogan"},[e._v("下单时间："+e._s(t.createDate))])]),e._l(t.orderDetailModels,function(o,a){return s("view",{directives:[{name:"show",rawName:"v-show",value:t.orderDetailModels.length>0,expression:"goods.orderDetailModels.length > 0"}],key:o.id},[s("view",{staticClass:"info"},[s("view",{staticClass:"name"},[e._v(e._s(o.productName))]),s("view",{staticClass:"name"},[e._v("数量："+e._s(o.quantity))])])])}),s("view",{staticClass:"info"},[s("view",{staticClass:"price"},[e._v("姓名："+e._s(t.userName))]),s("view",{staticClass:"price",attrs:{eventid:"3525b720-0-"+o},on:{tap:function(s){e.toCall(t.userPhone)}}},[e._v("电话："+e._s(t.userPhone))]),s("view",{staticClass:"price"},[e._v("总价：￥"+e._s(t.payableAmount))])]),s("view",{staticClass:"info"},[s("view",{staticClass:"slogan"},[e._v("地址："+e._s(t.userAddress))])])],2)}))])]),s("view",{directives:[{name:"show",rawName:"v-show",value:!1===e.validApply,expression:"validApply === false"}],staticStyle:{"text-align":"center","padding-top":"20%"}},[s("image",{attrs:{src:"../../static/img/logo.jpg",mode:"aspectFit"}}),s("br"),s("br"),e._v("永远相信美好的事情即将发生")],1)])},a=[];s.d(t,"a",function(){return o}),s.d(t,"b",function(){return a})},"1d1d":function(e,t,s){"use strict";s.r(t);var o=s("b392"),a=s.n(o);for(var n in o)"default"!==n&&function(e){s.d(t,e,function(){return o[e]})}(n);t["default"]=a.a},"4bad":function(e,t,s){"use strict";var o=s("cf27"),a=s.n(o);a.a},"53e8":function(e,t,s){"use strict";s("4436");var o=n(s("b0ce")),a=n(s("96c2"));function n(e){return e&&e.__esModule?e:{default:e}}Page((0,o.default)(a.default))},"96c2":function(e,t,s){"use strict";s.r(t);var o=s("0b9e"),a=s("1d1d");for(var n in a)"default"!==n&&function(e){s.d(t,e,function(){return a[e]})}(n);s("4bad");var i=s("2877"),l=Object(i["a"])(a["default"],o["a"],o["b"],!1,null,null,null);t["default"]=l.exports},b392:function(e,t,s){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s={data:function(){return{validApply:!0,goodsList:[]}},onLoad:function(t){var s=this;e.showLoading({title:"加载中"}),e.request({url:this.$tempUrl+"wechat/getOpenId",data:{code:window.location.search.substr(6,32)},method:"GET",success:function(t){var o=t.data;e.request({url:s.$tempUrl+"seller/login",data:{openId:o},method:"GET",success:function(t){0===t.data.code?(e.setStorageSync("seller",t.data.data),setTimeout(function(){s.refresh()},500)):(e.hideLoading(),e.showModal({title:"提示",content:"抱歉，您不是商家哦=。=",showCancel:!1,success:function(e){e.confirm&&(console.log("用户点击确定"),s.validApply=!1)}}))}})}})},onPullDownRefresh:function(){console.log("refresh"),this.refresh(),setTimeout(function(){e.stopPullDownRefresh()},500)},methods:{refresh:function(){var t=this;e.request({url:this.$tempUrl+"seller/order/list",data:{shopId:e.getStorageSync("seller").shopId,token:e.getStorageSync("seller").accessToken},method:"GET",success:function(s){e.hideLoading(),t.goodsList=s.data.data,0===s.data.data.length&&e.showModal({title:"提示",content:"暂无订单哦~",showCancel:!1})}})},changeOrderStatus:function(t){var s=this;1===t.orderStatus&&e.showModal({title:"提示",content:"确认接受此订单？",success:function(o){o.confirm?(console.log("用户点击确定"),e.request({url:s.$tempUrl+"seller/order/receive?token="+e.getStorageSync("seller").accessToken+"&orderId="+t.id,method:"POST",success:function(t){e.startPullDownRefresh(),0===t.data.code?e.showToast({title:"接受成功，请尽快配送",icon:"success"}):e.showModal({title:"失败",content:"买家已取消此订单",showCancel:!1})}})):o.cancel&&console.log("用户点击取消")}})},toCall:function(t){e.showModal({title:"提示",content:"是否拨打客户电话？",success:function(s){s.confirm?(console.log("用户点击确定"),e.makePhoneCall({phoneNumber:t})):s.cancel&&console.log("用户点击取消")}})}}};t.default=s}).call(this,s("543d")["default"])},cf27:function(e,t,s){}},[["53e8","common/runtime","common/vendor"]]]);